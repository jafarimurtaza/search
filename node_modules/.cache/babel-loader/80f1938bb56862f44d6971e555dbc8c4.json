{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport isEqual from 'react-fast-compare';\n\nfunction getStateWithoutPage(state) {\n  var _ref = state || {},\n      page = _ref.page,\n      rest = _objectWithoutProperties(_ref, [\"page\"]);\n\n  return rest;\n}\n\nvar KEY = 'ais.infiniteHits';\n\nfunction hasSessionStorage() {\n  return typeof window !== 'undefined' && typeof window.sessionStorage !== 'undefined';\n}\n\nexport default function createInfiniteHitsSessionStorageCache() {\n  return {\n    read: function read(_ref2) {\n      var state = _ref2.state;\n\n      if (!hasSessionStorage()) {\n        return null;\n      }\n\n      try {\n        var cache = JSON.parse(window.sessionStorage.getItem(KEY));\n        return cache && isEqual(cache.state, getStateWithoutPage(state)) ? cache.hits : null;\n      } catch (error) {\n        if (error instanceof SyntaxError) {\n          try {\n            window.sessionStorage.removeItem(KEY);\n          } catch (err) {// do nothing\n          }\n        }\n\n        return null;\n      }\n    },\n    write: function write(_ref3) {\n      var state = _ref3.state,\n          hits = _ref3.hits;\n\n      if (!hasSessionStorage()) {\n        return;\n      }\n\n      try {\n        window.sessionStorage.setItem(KEY, JSON.stringify({\n          state: getStateWithoutPage(state),\n          hits: hits\n        }));\n      } catch (error) {// do nothing\n      }\n    }\n  };\n}","map":{"version":3,"sources":["C:/Users/Murtaza Jafari/Desktop/product-search/product/searcbox/node_modules/react-instantsearch-dom/dist/es/lib/infiniteHitsCache/sessionStorage.js"],"names":["_objectWithoutProperties","isEqual","getStateWithoutPage","state","_ref","page","rest","KEY","hasSessionStorage","window","sessionStorage","createInfiniteHitsSessionStorageCache","read","_ref2","cache","JSON","parse","getItem","hits","error","SyntaxError","removeItem","err","write","_ref3","setItem","stringify"],"mappings":"AAAA,OAAOA,wBAAP,MAAqC,oDAArC;AACA,OAAOC,OAAP,MAAoB,oBAApB;;AAEA,SAASC,mBAAT,CAA6BC,KAA7B,EAAoC;AAClC,MAAIC,IAAI,GAAGD,KAAK,IAAI,EAApB;AAAA,MACIE,IAAI,GAAGD,IAAI,CAACC,IADhB;AAAA,MAEIC,IAAI,GAAGN,wBAAwB,CAACI,IAAD,EAAO,CAAC,MAAD,CAAP,CAFnC;;AAIA,SAAOE,IAAP;AACD;;AAED,IAAIC,GAAG,GAAG,kBAAV;;AAEA,SAASC,iBAAT,GAA6B;AAC3B,SAAO,OAAOC,MAAP,KAAkB,WAAlB,IAAiC,OAAOA,MAAM,CAACC,cAAd,KAAiC,WAAzE;AACD;;AAED,eAAe,SAASC,qCAAT,GAAiD;AAC9D,SAAO;AACLC,IAAAA,IAAI,EAAE,SAASA,IAAT,CAAcC,KAAd,EAAqB;AACzB,UAAIV,KAAK,GAAGU,KAAK,CAACV,KAAlB;;AAEA,UAAI,CAACK,iBAAiB,EAAtB,EAA0B;AACxB,eAAO,IAAP;AACD;;AAED,UAAI;AACF,YAAIM,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWP,MAAM,CAACC,cAAP,CAAsBO,OAAtB,CAA8BV,GAA9B,CAAX,CAAZ;AACA,eAAOO,KAAK,IAAIb,OAAO,CAACa,KAAK,CAACX,KAAP,EAAcD,mBAAmB,CAACC,KAAD,CAAjC,CAAhB,GAA4DW,KAAK,CAACI,IAAlE,GAAyE,IAAhF;AACD,OAHD,CAGE,OAAOC,KAAP,EAAc;AACd,YAAIA,KAAK,YAAYC,WAArB,EAAkC;AAChC,cAAI;AACFX,YAAAA,MAAM,CAACC,cAAP,CAAsBW,UAAtB,CAAiCd,GAAjC;AACD,WAFD,CAEE,OAAOe,GAAP,EAAY,CAAC;AACd;AACF;;AAED,eAAO,IAAP;AACD;AACF,KArBI;AAsBLC,IAAAA,KAAK,EAAE,SAASA,KAAT,CAAeC,KAAf,EAAsB;AAC3B,UAAIrB,KAAK,GAAGqB,KAAK,CAACrB,KAAlB;AAAA,UACIe,IAAI,GAAGM,KAAK,CAACN,IADjB;;AAGA,UAAI,CAACV,iBAAiB,EAAtB,EAA0B;AACxB;AACD;;AAED,UAAI;AACFC,QAAAA,MAAM,CAACC,cAAP,CAAsBe,OAAtB,CAA8BlB,GAA9B,EAAmCQ,IAAI,CAACW,SAAL,CAAe;AAChDvB,UAAAA,KAAK,EAAED,mBAAmB,CAACC,KAAD,CADsB;AAEhDe,UAAAA,IAAI,EAAEA;AAF0C,SAAf,CAAnC;AAID,OALD,CAKE,OAAOC,KAAP,EAAc,CAAC;AAChB;AACF;AArCI,GAAP;AAuCD","sourcesContent":["import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport isEqual from 'react-fast-compare';\n\nfunction getStateWithoutPage(state) {\n  var _ref = state || {},\n      page = _ref.page,\n      rest = _objectWithoutProperties(_ref, [\"page\"]);\n\n  return rest;\n}\n\nvar KEY = 'ais.infiniteHits';\n\nfunction hasSessionStorage() {\n  return typeof window !== 'undefined' && typeof window.sessionStorage !== 'undefined';\n}\n\nexport default function createInfiniteHitsSessionStorageCache() {\n  return {\n    read: function read(_ref2) {\n      var state = _ref2.state;\n\n      if (!hasSessionStorage()) {\n        return null;\n      }\n\n      try {\n        var cache = JSON.parse(window.sessionStorage.getItem(KEY));\n        return cache && isEqual(cache.state, getStateWithoutPage(state)) ? cache.hits : null;\n      } catch (error) {\n        if (error instanceof SyntaxError) {\n          try {\n            window.sessionStorage.removeItem(KEY);\n          } catch (err) {// do nothing\n          }\n        }\n\n        return null;\n      }\n    },\n    write: function write(_ref3) {\n      var state = _ref3.state,\n          hits = _ref3.hits;\n\n      if (!hasSessionStorage()) {\n        return;\n      }\n\n      try {\n        window.sessionStorage.setItem(KEY, JSON.stringify({\n          state: getStateWithoutPage(state),\n          hits: hits\n        }));\n      } catch (error) {// do nothing\n      }\n    }\n  };\n}"]},"metadata":{},"sourceType":"module"}