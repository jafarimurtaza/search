{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport PropTypes from 'prop-types';\nimport createConnector from '../core/createConnector';\nimport { refineValue, getResults } from '../core/indexUtils';\nexport var getId = function getId(props) {\n  return props.attributes[0];\n};\nvar namespace = 'hierarchicalMenu';\n\nfunction _refine(props, searchState, nextRefinement, context) {\n  var id = getId(props);\n\n  var nextValue = _defineProperty({}, id, nextRefinement || '');\n\n  var resetPage = true;\n  return refineValue(searchState, nextValue, context, resetPage, namespace);\n}\n\nfunction transformValue(values) {\n  return values.reduce(function (acc, item) {\n    if (item.isRefined) {\n      acc.push({\n        label: item.name,\n        // If dealing with a nested \"items\", \"value\" is equal to the previous value concatenated with the current label\n        // If dealing with the first level, \"value\" is equal to the current label\n        value: item.path\n      }); // Create a variable in order to keep the same acc for the recursion, otherwise \"reduce\" returns a new one\n\n      if (item.data) {\n        acc = acc.concat(transformValue(item.data, acc));\n      }\n    }\n\n    return acc;\n  }, []);\n}\n/**\n * The breadcrumb component is s a type of secondary navigation scheme that\n * reveals the user’s location in a website or web application.\n *\n * @name connectBreadcrumb\n * @requirements To use this widget, your attributes must be formatted in a specific way.\n * If you want for example to have a Breadcrumb of categories, objects in your index\n * should be formatted this way:\n *\n * ```json\n * {\n *   \"categories.lvl0\": \"products\",\n *   \"categories.lvl1\": \"products > fruits\",\n *   \"categories.lvl2\": \"products > fruits > citrus\"\n * }\n * ```\n *\n * It's also possible to provide more than one path for each level:\n *\n * ```json\n * {\n *   \"categories.lvl0\": [\"products\", \"goods\"],\n *   \"categories.lvl1\": [\"products > fruits\", \"goods > to eat\"]\n * }\n * ```\n *\n * All attributes passed to the `attributes` prop must be present in \"attributes for faceting\"\n * on the Algolia dashboard or configured as `attributesForFaceting` via a set settings call to the Algolia API.\n *\n * @kind connector\n * @propType {array.<string>} attributes - List of attributes to use to generate the hierarchy of the menu. See the example for the convention to follow.\n * @propType {function} [transformItems] - Function to modify the items being displayed, e.g. for filtering or sorting them. Takes an items as parameter and expects it back in return.\n * @providedPropType {function} refine - a function to toggle a refinement\n * @providedPropType {function} createURL - a function to generate a URL for the corresponding search state\n * @providedPropType {array.<{items: object, count: number, isRefined: boolean, label: string, value: string}>} items - the list of items the Breadcrumb can display.\n */\n\n\nexport default createConnector({\n  displayName: 'AlgoliaBreadcrumb',\n  propTypes: {\n    attributes: function attributes(props, propName, componentName) {\n      var isNotString = function isNotString(val) {\n        return typeof val !== 'string';\n      };\n\n      if (!Array.isArray(props[propName]) || props[propName].some(isNotString) || props[propName].length < 1) {\n        return new Error(\"Invalid prop \".concat(propName, \" supplied to \").concat(componentName, \". Expected an Array of Strings\"));\n      }\n\n      return undefined;\n    },\n    transformItems: PropTypes.func\n  },\n  getProvidedProps: function getProvidedProps(props, searchState, searchResults) {\n    var id = getId(props);\n    var results = getResults(searchResults, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n    var isFacetPresent = Boolean(results) && Boolean(results.getFacetByName(id));\n\n    if (!isFacetPresent) {\n      return {\n        items: [],\n        canRefine: false\n      };\n    }\n\n    var values = results.getFacetValues(id);\n    var items = values.data ? transformValue(values.data) : [];\n    var transformedItems = props.transformItems ? props.transformItems(items) : items;\n    return {\n      canRefine: transformedItems.length > 0,\n      items: transformedItems\n    };\n  },\n  refine: function refine(props, searchState, nextRefinement) {\n    return _refine(props, searchState, nextRefinement, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n  }\n});","map":{"version":3,"sources":["C:/Users/Murtaza Jafari/Desktop/product-search/product/searcbox/node_modules/react-instantsearch-core/dist/es/connectors/connectBreadcrumb.js"],"names":["_defineProperty","PropTypes","createConnector","refineValue","getResults","getId","props","attributes","namespace","_refine","searchState","nextRefinement","context","id","nextValue","resetPage","transformValue","values","reduce","acc","item","isRefined","push","label","name","value","path","data","concat","displayName","propTypes","propName","componentName","isNotString","val","Array","isArray","some","length","Error","undefined","transformItems","func","getProvidedProps","searchResults","results","ais","contextValue","multiIndexContext","indexContextValue","isFacetPresent","Boolean","getFacetByName","items","canRefine","getFacetValues","transformedItems","refine"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport PropTypes from 'prop-types';\nimport createConnector from '../core/createConnector';\nimport { refineValue, getResults } from '../core/indexUtils';\nexport var getId = function getId(props) {\n  return props.attributes[0];\n};\nvar namespace = 'hierarchicalMenu';\n\nfunction _refine(props, searchState, nextRefinement, context) {\n  var id = getId(props);\n\n  var nextValue = _defineProperty({}, id, nextRefinement || '');\n\n  var resetPage = true;\n  return refineValue(searchState, nextValue, context, resetPage, namespace);\n}\n\nfunction transformValue(values) {\n  return values.reduce(function (acc, item) {\n    if (item.isRefined) {\n      acc.push({\n        label: item.name,\n        // If dealing with a nested \"items\", \"value\" is equal to the previous value concatenated with the current label\n        // If dealing with the first level, \"value\" is equal to the current label\n        value: item.path\n      }); // Create a variable in order to keep the same acc for the recursion, otherwise \"reduce\" returns a new one\n\n      if (item.data) {\n        acc = acc.concat(transformValue(item.data, acc));\n      }\n    }\n\n    return acc;\n  }, []);\n}\n/**\n * The breadcrumb component is s a type of secondary navigation scheme that\n * reveals the user’s location in a website or web application.\n *\n * @name connectBreadcrumb\n * @requirements To use this widget, your attributes must be formatted in a specific way.\n * If you want for example to have a Breadcrumb of categories, objects in your index\n * should be formatted this way:\n *\n * ```json\n * {\n *   \"categories.lvl0\": \"products\",\n *   \"categories.lvl1\": \"products > fruits\",\n *   \"categories.lvl2\": \"products > fruits > citrus\"\n * }\n * ```\n *\n * It's also possible to provide more than one path for each level:\n *\n * ```json\n * {\n *   \"categories.lvl0\": [\"products\", \"goods\"],\n *   \"categories.lvl1\": [\"products > fruits\", \"goods > to eat\"]\n * }\n * ```\n *\n * All attributes passed to the `attributes` prop must be present in \"attributes for faceting\"\n * on the Algolia dashboard or configured as `attributesForFaceting` via a set settings call to the Algolia API.\n *\n * @kind connector\n * @propType {array.<string>} attributes - List of attributes to use to generate the hierarchy of the menu. See the example for the convention to follow.\n * @propType {function} [transformItems] - Function to modify the items being displayed, e.g. for filtering or sorting them. Takes an items as parameter and expects it back in return.\n * @providedPropType {function} refine - a function to toggle a refinement\n * @providedPropType {function} createURL - a function to generate a URL for the corresponding search state\n * @providedPropType {array.<{items: object, count: number, isRefined: boolean, label: string, value: string}>} items - the list of items the Breadcrumb can display.\n */\n\n\nexport default createConnector({\n  displayName: 'AlgoliaBreadcrumb',\n  propTypes: {\n    attributes: function attributes(props, propName, componentName) {\n      var isNotString = function isNotString(val) {\n        return typeof val !== 'string';\n      };\n\n      if (!Array.isArray(props[propName]) || props[propName].some(isNotString) || props[propName].length < 1) {\n        return new Error(\"Invalid prop \".concat(propName, \" supplied to \").concat(componentName, \". Expected an Array of Strings\"));\n      }\n\n      return undefined;\n    },\n    transformItems: PropTypes.func\n  },\n  getProvidedProps: function getProvidedProps(props, searchState, searchResults) {\n    var id = getId(props);\n    var results = getResults(searchResults, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n    var isFacetPresent = Boolean(results) && Boolean(results.getFacetByName(id));\n\n    if (!isFacetPresent) {\n      return {\n        items: [],\n        canRefine: false\n      };\n    }\n\n    var values = results.getFacetValues(id);\n    var items = values.data ? transformValue(values.data) : [];\n    var transformedItems = props.transformItems ? props.transformItems(items) : items;\n    return {\n      canRefine: transformedItems.length > 0,\n      items: transformedItems\n    };\n  },\n  refine: function refine(props, searchState, nextRefinement) {\n    return _refine(props, searchState, nextRefinement, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n  }\n});"]},"metadata":{},"sourceType":"module"}